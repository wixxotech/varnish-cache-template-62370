# varnish-cache-template by [Section](https://www.section.io/)

Welcome to your project template, generated by [Section](https://www.section.io/)! You've just deployed this application to the Section platform, which is a fully managed, high-performance hosting platform for web applications. This template is designed to help you get started with your project on the Section platform quickly and easily. If you need more information or resources, please visit the [Section documentation](https://www.section.io/docs/).

## Getting Started

Follow the steps below to get started with your project on the Section platform:

### Your origin definitions

This Varnish Cache template leverages nginx as it's egress controller so that we can have more granular control over connections with external services. The out-of-the-box implementation uses the latest nginx Docker image as the base, and the `default.conf` file located in the root of this repository defines the origin traffic routing behaviors.

#### Updating your origin

1. Navigate to the `default.conf` file located in the root of this repo.
1. Click the pencil icon (Edit this file) in the top right corner of the file view.
1. Make the necessary changes to the file.
1. Scroll down to the "Commit changes" section.
1. Add a commit message describing the changes you made.
1. Click "Commit changes".

*Note: The out of the box origin definition is configured to serve the default nginx static home page. In order to use Nginx as a reverse proxy, reference the proxy_pass example commented out in the default.conf file.* 

### Updating your Varnish Cache configuration

1. Navigate to the `default.vcl` file located at `k8s/base/varnish/default.vcl`.
1. Click the pencil icon (Edit this file) in the top right corner of the file view.
1. Make the necessary changes to the file.
1. Scroll down to the "Commit changes" section.
1. Add a commit message describing the changes you made.
1. Click "Commit changes".

### Add a Custom Domain Name

To add a custom domain name to your project using the Section console, follow these steps:

1. Log in to your [Section account](https://www.section.io/).
1. Navigate to your project settings.
1. Click on the "Domains" tab.
1. Click the "Add Domain" button.
1. Enter your custom domain name (e.g., `example.com`) and click "Save".
1. Follow the instructions provided to update your domain's DNS settings.

### Add Additional Locations/Providers

To add additional locations or providers to your project using the Section console, follow these steps:

1. Log in to your [Section account](https://www.section.io/).
1. Navigate to your project settings.
1. Click on the "Location Settings" tab.
1. Modify your selected locations and providers as needed.
1. Click "Apply".

Repeat the above steps to add more locations or providers as needed.

## Want to deploy a different application?

If you want to deploy a different application, you can do so by following these steps:

1. Create or log in to your account on [Section](https://www.section.io/).
1. Follow the project creation wizard to create a new project.
1. Follow the instructions provided to deploy your application using a variety of templates or by uploading your own docker containers.

## Get involved

Join our discord community to get help from our team and other developers.

[![Discord](https://img.shields.io/discord/554724688312401921?color=7289da&label=discord&logo=discord&logoColor=white)](https://discord.gg/J7fUts7j)
[![Twitter](https://img.shields.io/twitter/follow/sectionio?style=social)](https://twitter.com/sectionio)
